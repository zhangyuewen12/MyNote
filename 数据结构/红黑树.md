**一、基本概念**

红黑树本质上是一颗二叉搜索树，它满足二叉搜索树的基本性质——即树中的任何节点的值大于它的左子节点，且小于它的右子节点。<img src="/Users/zyw/Library/Application Support/typora-user-images/image-20211012092854456.png" alt="image-20211012092854456" style="zoom:50%;" />

按照二叉搜索树组织数据，使得对元素的查找非常快捷。比如图1中的二叉搜索树，如果查询值为48的节点，只需要遍历4个节点即可完成。理论上，一颗平衡的二叉搜索树的任意节点平均查找效率为树的高度h，即O(lgn)。但是如果二叉搜索树的失去平衡（元素全在一侧），搜索效率就退化为O(n)，因此二叉搜索树的平衡是搜索效率的关键所在。为了维护树的平衡性，数据结构内出现了各种各样的树，比如AVL树通过维持任何节点的左右子树的高度差不大于1保持树的平衡，而红黑树使用颜色的概念维持树的平衡，使二叉搜索树的左右子树的高度差保持在固定的范围。相比于其他二叉搜索树树，红黑树对二叉搜索树的平衡性维持有着自身的优势。

顾名思义，红黑树的节点是有颜色概念的，即非红即黑。通过颜色的约束，红黑树维持着二叉搜索树的平衡性。一颗红黑树必须满足以下几点条件：

**规则1****、根节点必须是黑色。**

**规则2****、任意从根到叶子的路径不包含连续的红色节点。**

**规则3****、任意从根到叶子的路径的黑色节点总数相同**

如图2所示，为一颗合法的红黑树，可以发现红黑树在维持二叉搜索树的基本性质的前提下，并满足了红黑树的颜色条件，整体上保持了二叉搜索树的平衡性。（构造如下红黑树的数据序列为：（50，35，78，27，56，90，45，40，48），读者可以自行验证。）

<img src="/Users/zyw/Library/Application Support/typora-user-images/image-20211012094933444.png" alt="image-20211012094933444" style="zoom:50%;" />

